@if (error) {
<div class="bh-cuenta-error">
    <i class="bi bi-exclamation-triangle"></i>
    <p>{{ error }}</p>
    <button class="bh-action-btn" routerLink="/inicio">Volver al inicio</button>
</div>
} @else if (cuenta) {
<div class="bh-cuenta-container">
    <header class="bh-cuenta-header">
        <div class="bh-cuenta-header__back" routerLink="/inicio">
            <i class="bi bi-arrow-left"></i> Volver a mis cuentas
        </div>
        <div class="bh-cuenta-header__main">
            <div class="bh-cuenta-info">
                <h1 class="bh-cuenta-info__title">Detalles de la Cuenta</h1>
                <p class="bh-cuenta-resumen__iban bh--font-medium">{{ cuenta.numeroCuenta }}</p>
            </div>
            <div class="bh-cuenta-balance">
                <span class="bh-cuenta-balance__label">Saldo disponible</span>
                <h2 class="bh-cuenta-balance__amount"
                    [ngClass]="{'bh-cuenta-balance__amount--positive': cuenta.saldo >= 0, 'bh-cuenta-balance__amount--negative': cuenta.saldo < 0}">
                    {{ cuenta.saldo | number:'1.2-2' }}€
                </h2>
            </div>
        </div>
    </header>

    <main class="bh-cuenta-content">
        <section class="bh-movimientos">
            <h3 class="bh-movimientos__title">Últimos Movimientos</h3>
            <div class="bh-movimientos__list">
                @for (m of movimientos; track $index) {
                <div class="bh-movimiento">
                    <div class="bh-movimiento__icon"
                        [ngClass]="{'bh-movimiento__icon--in': m.importe > 0, 'bh-movimiento__icon--out': m.importe <= 0}">
                        <i class="bi" [ngClass]="m.importe > 0 ? 'bi-plus' : 'bi-dash'"></i>
                    </div>
                    <div class="bh-movimiento__details">
                        <span class="bh-movimiento__concept">{{ m.concepto }}</span>
                        <span class="bh-movimiento__date">{{ m.fecha | date:'dd MMM yyyy' }}</span>
                    </div>
                    <div class="bh-movimiento__amount"
                        [ngClass]="{'bh-movimiento__amount--positive': m.importe > 0, 'bh-movimiento__amount--negative': m.importe <= 0}">
                        {{ m.importe | number:'1.2-2' }}€
                    </div>
                </div>
                } @empty {
                <div class="bh-no-movimientos">No hay movimientos registrados para esta cuenta.</div>
                }
            </div>
        </section>

        <aside class="bh-cuenta-actions">
            <button class="bh-action-btn">
                <i class="bi bi-send"></i>
                <span>Realizar Transferencia</span>
            </button>
        </aside>
    </main>
</div>
}